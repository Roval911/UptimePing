# Production Environment Configuration
# This file is used for production deployment

# Database Configuration
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=uptimeping
DATABASE_USER=uptimeping
DATABASE_PASSWORD=${DATABASE_PASSWORD}
DATABASE_SSLMODE=require

# Redis Configuration
REDIS_ADDR=redis:6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0

# RabbitMQ Configuration
RABBITMQ_URL=amqp://uptimeping:${RABBITMQ_PASSWORD}@rabbitmq:5672/
RABBITMQ_MANAGEMENT_URL=http://uptimeping:${RABBITMQ_PASSWORD}@rabbitmq:15672

# Service Ports
API_GATEWAY_PORT=8080
AUTH_SERVICE_PORT=50051
SCHEDULER_SERVICE_PORT=50052
FORGE_SERVICE_PORT=50053
CORE_SERVICE_PORT=50054
METRICS_SERVICE_PORT=50055
INCIDENT_SERVICE_PORT=50056
NOTIFICATION_SERVICE_PORT=50057

# Service Addresses (for production)
AUTH_SERVICE_ADDR=auth-service:50051
SCHEDULER_SERVICE_ADDR=scheduler-service:50052
FORGE_SERVICE_ADDR=forge-service:50053
CORE_SERVICE_ADDR=core-service:50054
METRICS_SERVICE_ADDR=metrics-service:50055
INCIDENT_SERVICE_ADDR=incident-manager:50056
NOTIFICATION_SERVICE_ADDR=notification-service:50057

# JWT Configuration (Production - use strong secrets)
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRE_IN=24h
REFRESH_TOKEN_EXPIRE_IN=168h

# API Key Configuration
API_KEY_SECRET=${API_KEY_SECRET}
API_KEY_EXPIRE_IN=8760h

# Rate Limiting (Production - stricter)
RATE_LIMIT_REDIS=redis:6379
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=10

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
ENVIRONMENT=production

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# Monitoring Configuration
PROMETHEUS_GATEWAY_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
LOKI_URL=http://loki:3100

# Email Configuration (Production - use real settings)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM=noreply@uptimeping.local
SMTP_TLS=true

# Worker Configuration (Production - larger pool)
WORKER_POOL_SIZE=20
MAX_RETRY_ATTEMPTS=5
RETRY_INITIAL_DELAY=1s
RETRY_MAX_DELAY=30s

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s
HEALTH_CHECK_RETRIES=3

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PATH=/metrics
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=0.1

# Security Configuration
ENABLE_CORS=false
CORS_ALLOWED_ORIGINS=https://uptimeping.local
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Security Configuration
ENABLE_HTTPS=true
TLS_CERT_FILE=/etc/ssl/certs/uptimeping.crt
TLS_KEY_FILE=/etc/ssl/private/uptimeping.key

# CLI Configuration
CLI_OUTPUT_FORMAT=json
CLI_TIMEOUT=30s
