server:
  host: "${SERVER_HOST:0.0.0.0}"
  port: ${SERVER_PORT:8080}

database:
  host: "${DB_HOST:localhost}"
  port: ${DB_PORT:5432}
  name: "${DB_NAME:uptimeping}"
  user: "${DB_USER:uptimeping}"
  password: "${DB_PASSWORD:uptimeping}"

logger:
  level: "${LOG_LEVEL:info}"
  format: "${LOG_FORMAT:json}"

redis:
  addr: "${REDIS_ADDR:localhost:6379}"
  password: "${REDIS_PASSWORD:}"
  db: ${REDIS_DB:0}
  pool_size: ${REDIS_POOL_SIZE:10}
  min_idle_conn: ${REDIS_MIN_IDLE_CONN:2}
  max_retries: ${REDIS_MAX_RETRIES:3}
  retry_interval: "${REDIS_RETRY_INTERVAL:1s}"
  health_check: "${REDIS_HEALTH_CHECK:30s}"

rate_limit:
  requests_per_minute: ${RATE_LIMIT_REQUESTS_PER_MINUTE:60}
  burst_size: ${RATE_LIMIT_BURST_SIZE:10}

retry:
  max_attempts: ${RETRY_MAX_ATTEMPTS:3}
  initial_delay: "${RETRY_INITIAL_DELAY:1s}"
  max_delay: "${RETRY_MAX_DELAY:30s}"
  multiplier: ${RETRY_MULTIPLIER:2.0}
  jitter: ${RETRY_JITTER:true}
  jitter_range: ${RETRY_JITTER_RANGE:0.1}

environment: "${ENVIRONMENT:dev}"

# Gateway специфичные настройки
gateway:
  load_balancer:
    strategy: "${GATEWAY_LOAD_BALANCER_STRATEGY:round_robin}"
    health_check_interval: "${GATEWAY_HEALTH_CHECK_INTERVAL:30s}"
  
  cors:
    allowed_origins: "${GATEWAY_CORS_ORIGINS:*}"
    allowed_methods: "${GATEWAY_CORS_METHODS:GET,POST,PUT,DELETE,OPTIONS}"
    allowed_headers: "${GATEWAY_CORS_HEADERS:*}"
    max_age: ${GATEWAY_CORS_MAX_AGE:86400}
  
  timeout:
    read: "${GATEWAY_TIMEOUT_READ:30s}"
    write: "${GATEWAY_TIMEOUT_WRITE:30s}"
    idle: "${GATEWAY_TIMEOUT_IDLE:120s}"
