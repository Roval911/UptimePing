# UptimePingPlatform - Environment Variables Template
# Скопируйте этот файл в .env и настройте значения для вашего окружения

# =============================================================================
# ОБЩИЕ НАСТРОЙКИ
# =============================================================================

# Окружение: dev, staging, prod
ENVIRONMENT=dev

# Настройки сервера
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# Настройки логирования
LOGGER_LEVEL=info
LOGGER_FORMAT=json

# =============================================================================
# БАЗА ДАННЫХ (PostgreSQL)
# =============================================================================

DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=uptimeping
DATABASE_USER=uptimeping
DATABASE_PASSWORD=uptimeping_password

# =============================================================================
# REDIS
# =============================================================================

REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONN=2
REDIS_MAX_RETRIES=3
REDIS_RETRY_INTERVAL=1s
REDIS_HEALTH_CHECK=30s

# =============================================================================
# RABBITMQ
# =============================================================================

RABBITMQ_URL=amqp://guest:guest@localhost:5672/
RABBITMQ_EXCHANGE=notifications
RABBITMQ_ROUTING_KEY=notification.events
RABBITMQ_QUEUE=notifications

# =============================================================================
# JWT АУТЕНТИФИКАЦИЯ
# =============================================================================

# Секретные ключи (генерируйте свои!)
JWT_ACCESS_SECRET=your_super_secret_access_key_here
JWT_REFRESH_SECRET=your_super_secret_refresh_key_here
JWT_ACCESS_TOKEN_DURATION=15m
JWT_REFRESH_TOKEN_DURATION=7d

# =============================================================================
# gRPC НАСТРОЙКИ
# =============================================================================

GRPC_PORT=50051

# =============================================================================
# RATE LIMITING
# =============================================================================

RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=10

# =============================================================================
# МЕТРИКИ И ТРАССИРОВКА
# =============================================================================

# Включение метрик
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Настройки сбора метрик
METRICS_SCRAPE_INTERVAL=15s
METRICS_TIMEOUT=10s
METRICS_RETRY_ATTEMPTS=3

# Prometheus настройки
METRICS_NAMESPACE=uptimeping
METRICS_SUBSYSTEM=http
METRICS_BUCKETS=0.001,0.005,0.01,0.025,0.05,0.1,0.25,0.5,1,2.5,5,10

# OpenTelemetry трассировка
METRICS_TRACING_ENABLED=true
METRICS_TRACER_NAME=uptimeping-tracer
METRICS_SAMPLING_RATE=1.0
METRICS_SERVICE_NAME=
METRICS_SERVICE_VERSION=1.0.0

# Дополнительные метрики
METRICS_ENABLE_CUSTOM=true
METRICS_ENABLE_SYSTEM=true

# =============================================================================
# HEALTH CHECKS
# =============================================================================

HEALTH_ENABLED=true
HEALTH_PORT=8091
HEALTH_CHECK_INTERVAL=30s

# =============================================================================
# SCHEDULER SERVICE
# =============================================================================

SCHEDULER_MAX_CONCURRENT_TASKS=100
SCHEDULER_TASK_TIMEOUT=30s
SCHEDULER_CLEANUP_INTERVAL=1h
SCHEDULER_LOCK_TIMEOUT=30s

# =============================================================================
# FORGE SERVICE
# =============================================================================

FORGE_PROTO_DIR=proto
FORGE_OUTPUT_DIR=generated

# =============================================================================
# INCIDENT MANAGER
# =============================================================================

INCIDENT_MANAGER_ADDRESS=localhost:50056

# =============================================================================
# ПРОВАЙДЕРЫ УВЕДОМЛЕНИЙ
# =============================================================================

# Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBHOOK_URL=
TELEGRAM_API_URL=https://api.telegram.org
TELEGRAM_TIMEOUT=30s
TELEGRAM_RETRY_ATTEMPTS=3

# Slack
SLACK_WEBHOOK_URL=your_slack_webhook_url_here
SLACK_TIMEOUT=30s
SLACK_RETRY_ATTEMPTS=3

# Email
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
EMAIL_FROM_ADDRESS=noreply@uptimeping.com
EMAIL_FROM_NAME=UptimePing
EMAIL_USE_STARTTLS=true
EMAIL_TIMEOUT=30s
EMAIL_RETRY_ATTEMPTS=3

# =============================================================================
# КОНФИГУРАЦИЯ СЕРВИСОВ ДЛЯ МОНИТОРИНГА
# =============================================================================

# Включение/выключение сервисов
AUTH_SERVICE_ENABLED=true
AUTH_SERVICE_ADDRESS=localhost:50051

CORE_SERVICE_ENABLED=true
CORE_SERVICE_ADDRESS=localhost:50052

SCHEDULER_SERVICE_ENABLED=true
SCHEDULER_SERVICE_ADDRESS=localhost:50053

API_GATEWAY_ENABLED=true
API_GATEWAY_ADDRESS=localhost:8080

# =============================================================================
# ПОЛУЧАТЕЛИ УВЕДОМЛЕНИЙ
# =============================================================================

# Email по умолчанию
DEFAULT_EMAILS=admin@uptimeping.com,ops@uptimeping.com

# Slack каналы по умолчанию
DEFAULT_SLACK=#alerts,#incidents

# SMS номера по умолчанию
DEFAULT_SMS=+1234567890

# Webhook URL по умолчанию
DEFAULT_WEBHOOKS=https://webhook.uptimeping.com/notifications

# =============================================================================
# РАЗРАБОТКА И ОТЛАДКА
# =============================================================================

# Для разработки можно переопределить порты
# DEV_SERVER_PORT=8081
# DEV_GRPC_PORT=50052
# DEV_METRICS_PORT=9091

# Включение debug логов
# LOGGER_LEVEL=debug

# =============================================================================
# ПРОДАКШН НАСТРОЙКИ
# =============================================================================

# Для продакшена раскомментируйте и настройте
# ENVIRONMENT=prod
# LOGGER_LEVEL=warn
# METRICS_SAMPLING_RATE=0.1
# DATABASE_POOL_SIZE=20
# REDIS_POOL_SIZE=20
